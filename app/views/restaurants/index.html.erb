<% content_for :title, "Liste des restaurants" %>
<% content_for :meta_description, "Page de la liste des restaurants ayant importer leur menu. Les restaurants peuvent être triés par ville." %>

<h1 class="h1-resto">QU'EST-CE QU'ON MANGE AUJOURD'HUI ?</h1>
<p class="p-resto"> Venez découvrir les menus à jour de vos restaurants préférés ! Grâce à Menu, vous saurez toujours ce qu'il se passe en cuisine !</p>

<div class="form-filter d-flex mt-5 ms-4">
  <%= form_tag restaurants_path, method: :get do %>
    <%= label_tag :city, "Choisis ta ville :", class: "text-filter" %>
    <%= select_tag :city, options_for_select([["Toutes les villes", ""]] + City.pluck(:city_name), params[:city]), class: "text-filter", id: "select-filter" %> <%# .pluck return all the value of column city_name from table city %>
    <%= submit_tag "Filtrer", class:"btn btn-up-show" %>
  <% end %>
</div>

<div class="row-resto d-flex justify-content-around flex-wrap">
  <% @restaurants.each do |restaurant| %>
    <div class="card">
      <div class="card-img-resto d-flex flex-wrap">
        <%= image_tag "food_2.avif", class: "card-img-resto mb-2", alt: "Photo de couverture du restaurant" %>
      </div>

      <div class="project-info d-flex flex-wrap">
        <div class="flex justify-content-center">
          <div class="project-title"> <%= restaurant.restaurant_name %> </div>
        </div>
        <div class="lighter">
          <p> Venez découvrir l'univers de notre restaurant ! Cliquez pour découvrir notre menu et nos informations. </p>
          <%= link_to 'Voir plus', restaurant, class:"button-card d-flex justify-content-center" %>
        </div>
      </div>
    </div>
  <% end %>
</div>

